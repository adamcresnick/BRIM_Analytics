variable_name,instruction,prompt_template,aggregation_instruction,aggregation_prompt_template,variable_type,scope,option_definitions,aggregation_option_definitions,only_use_true_value_in_aggregation,default_value_for_empty_response
first_surgery_date,"PRIORITY 1: Check NOTE_ID='STRUCTURED_surgeries' document FIRST. Locate the surgery history table and extract the date from Row 1 ONLY (first surgery) from the 'Date' column. Return in format YYYY-MM-DD. Data Dictionary: surgery_date (date field). Gold Standard for C1277724: 2018-05-28. If STRUCTURED_surgeries not found: Search FHIR Bundle Procedure resources for performed_date_time or performed_period_start, filter to neurosurgical CPT codes (61000-62258), return EARLIEST date.",,,,text,one_per_patient,,,,unknown
first_surgery_type,"PRIORITY 1: Check NOTE_ID='STRUCTURED_surgeries' document FIRST. Locate the surgery history table and extract from Row 1 ONLY (first surgery) from 'Surgery Type' column. Return EXACTLY one of these Data Dictionary values: 'Tumor Resection' (if CPT 61510-61576), 'Biopsy' (if CPT 61140/61150/61512), 'Shunt' (if CPT 62200-62258), 'Other' (any other). CRITICAL: Match exactly - case sensitive Title Case. Gold Standard for C1277724: 'Tumor Resection'. Do NOT use 'RESECTION' or 'resection' or 'craniotomy'. If STRUCTURED_surgeries not found: Check Procedure.code for CPT and map.",,,,text,one_per_patient,"{""Tumor Resection"": ""Tumor Resection"", ""Biopsy"": ""Biopsy"", ""Shunt"": ""Shunt"", ""Other"": ""Other""}",,,Other
first_surgery_extent,"PRIORITY 1: Check NOTE_ID='STRUCTURED_surgeries' document FIRST. Locate the surgery history table and extract from Row 1 ONLY (first surgery) from 'Extent of Resection' column. Return EXACTLY one of: 'Gross Total Resection', 'Near Total Resection', 'Subtotal Resection', 'Partial Resection', 'Biopsy Only'. Data Dictionary: extent_of_resection (dropdown). CRITICAL: Match exactly with Title Case - 'Partial Resection' NOT 'Partial resection'. Gold Standard for C1277724: 'Partial Resection'. If STRUCTURED_surgeries not found: Search operative notes for keywords and return closest dropdown match.",,,,text,one_per_patient,"{""Gross Total Resection"": ""Gross Total Resection"", ""Near Total Resection"": ""Near Total Resection"", ""Subtotal Resection"": ""Subtotal Resection"", ""Partial Resection"": ""Partial Resection"", ""Biopsy Only"": ""Biopsy Only"", ""Unknown"": ""Unknown""}",,,Unknown
first_surgery_location,"PRIORITY 1: Check NOTE_ID='STRUCTURED_surgeries' document FIRST. Locate the surgery history table and extract from Row 1 ONLY (first surgery) from 'Anatomical Location' column. Return as free text. Data Dictionary: surgery_location (text field - not constrained). Gold Standard for C1277724: 'Posterior fossa' OR 'Cerebellum'. If STRUCTURED_surgeries not found: Search operative notes for anatomical keywords (cerebellum, frontal lobe, temporal lobe, posterior fossa, supratentorial, infratentorial, brainstem). Return most specific location. Can use semicolons for multiple locations.",,,,text,one_per_patient,,,,unknown
