variable_name,instruction,prompt_template,aggregation_instruction,aggregation_prompt_template,variable_type,scope,option_definitions,aggregation_option_definitions,only_use_true_value_in_aggregation,default_value_for_empty_response
patient_gender,"PRIORITY 1: Check patient_demographics.csv FIRST for this patient_fhir_id. If found, return the 'gender' value EXACTLY as written (capitalize to Title Case if needed). Data Dictionary: legal_sex (dropdown: 0=Male, 1=Female, 2=Unavailable). Gold Standard for C1277724: Female. CRITICAL: patient_demographics.csv is pre-populated from Athena fhir_v2_prd_db.patient_access table. Return EXACTLY 'Male' or 'Female' (Title Case). If patient_fhir_id not in patient_demographics.csv, return 'Unavailable'. DO NOT extract from clinical notes.",,,,text,one_per_patient,"{""Male"": ""Male"", ""Female"": ""Female"", ""Unavailable"": ""Unavailable""}",,,Unavailable
date_of_birth,"PRIORITY 1: Check patient_demographics.csv FIRST for this patient_fhir_id. If found, return the 'birth_date' value in YYYY-MM-DD format. Data Dictionary: date_of_birth (text field, yyyy-mm-dd). Gold Standard for C1277724: 2005-05-13. CRITICAL: patient_demographics.csv is pre-populated from Athena fhir_v2_prd_db.patient_access table. Return exact date as YYYY-MM-DD. If patient_fhir_id not in patient_demographics.csv, return 'Unavailable'. DO NOT extract from clinical notes.",,,,text,one_per_patient,,,,Unavailable
age_at_diagnosis,"CRITICAL: DO NOT extract age from clinical notes text. PRIORITY 1: Check patient_demographics.csv for date_of_birth. Calculate using formula: FLOOR((diagnosis_date - date_of_birth) / 365.25) years. Data Dictionary: age_at_diagnosis (number field). Gold Standard for C1277724: date_of_birth=2005-05-13, diagnosis_date=2018-06-04, age=13 years (NOT 15 years). CRITICAL: Block all text extraction. MUST calculate from dates only. If either date unavailable, return 'Unknown'. Return integer with no decimals (e.g., '13' not '13.06').",,,,text,one_per_patient,,,,Unknown
race,"PRIORITY 1: Check patient_demographics.csv FIRST for this patient_fhir_id. If found, return the 'race' value EXACTLY as written. Data Dictionary: race (checkbox, multiple selections). Valid values: 'White', 'Black or African American', 'Asian', 'Native Hawaiian or Other Pacific Islander', 'American Indian or Alaska Native', 'Other', 'Unavailable'. Gold Standard for C1277724: White. CRITICAL: patient_demographics.csv is pre-populated from Athena fhir_v2_prd_db.patient_access table with US Core race extensions already parsed. If patient_fhir_id not in patient_demographics.csv, return 'Unavailable'. DO NOT extract from clinical notes.",,,,text,one_per_patient,"{""White"": ""White"", ""Black or African American"": ""Black or African American"", ""Asian"": ""Asian"", ""Native Hawaiian or Other Pacific Islander"": ""Native Hawaiian or Other Pacific Islander"", ""American Indian or Alaska Native"": ""American Indian or Alaska Native"", ""Other"": ""Other"", ""Unavailable"": ""Unavailable""}",,,Unavailable
ethnicity,"PRIORITY 1: Check patient_demographics.csv FIRST for this patient_fhir_id. If found, return the 'ethnicity' value EXACTLY as written. Data Dictionary: ethnicity (radio, single selection). Valid values: 'Hispanic or Latino', 'Not Hispanic or Latino', 'Unavailable'. Gold Standard for C1277724: Not Hispanic or Latino. CRITICAL: patient_demographics.csv is pre-populated from Athena fhir_v2_prd_db.patient_access table with US Core ethnicity extensions already parsed. Return EXACTLY one value. If patient_fhir_id not in patient_demographics.csv, return 'Unavailable'. DO NOT extract from clinical notes.",,,,text,one_per_patient,"{""Hispanic or Latino"": ""Hispanic or Latino"", ""Not Hispanic or Latino"": ""Not Hispanic or Latino"", ""Unavailable"": ""Unavailable""}",,,Unavailable
primary_diagnosis,"PRIORITY 1: Check FHIR Condition resources for primary CNS tumor diagnosis. Data Dictionary: cns_integrated_diagnosis (checkbox with 123 options based on 2021 WHO CNS Classification). Gold Standard for C1277724: 'Pilocytic astrocytoma' or 'Astrocytoma, pilocytic'. CRITICAL: Extract from Condition.code.coding.display. Look for keywords: pilocytic, astrocytoma, glioma. Return diagnosis name as free text. If multiple conditions, prioritize oncology diagnosis with earliest onset date. If not found in FHIR, search pathology reports for diagnosis keywords.",,,,text,one_per_patient,,,,Unknown
diagnosis_date,"PRIORITY 1: Check FHIR Condition resources for primary CNS tumor diagnosis onset date. Data Dictionary: age_at_event_days (converted from date). Gold Standard for C1277724: 2018-06-04. CRITICAL: Extract from Condition.onsetDateTime or recordedDate. Return in YYYY-MM-DD format. If multiple diagnosis dates, return earliest. If not found in FHIR, search clinical notes for 'diagnosed on' or 'diagnosis date' keywords. Fallback: use first surgery date if diagnosis date unavailable.",,,,text,one_per_patient,,,,Unknown
who_grade,"PRIORITY 1: Check pathology reports and molecular testing documents for WHO grade classification. Data Dictionary: who_grade (dropdown: 1, 2, 3, 4, No grade specified). Gold Standard for C1277724: 'Grade I' (pilocytic astrocytoma is WHO Grade I). CRITICAL: Return EXACTLY 'Grade I', 'Grade II', 'Grade III', 'Grade IV', or 'No grade specified'. Match Title Case. Look for keywords: 'WHO grade', 'Grade I', 'low-grade'. If diagnosis is pilocytic astrocytoma and no grade specified, infer 'Grade I' (standard for this diagnosis). DO NOT return numeric values (1, 2, 3, 4) - use 'Grade I' format.",,,,text,one_per_patient,"{""Grade I"": ""Grade I"", ""Grade II"": ""Grade II"", ""Grade III"": ""Grade III"", ""Grade IV"": ""Grade IV"", ""No grade specified"": ""No grade specified""}",,,No grade specified
tumor_location,"PRIORITY 1: Check imaging reports, pathology reports, and operative notes for TUMOR anatomical location (NOT surgical approach). Data Dictionary: tumor_location (checkbox with 24 options). Gold Standard for C1277724: 'Cerebellum/Posterior Fossa'. Valid values: 'Frontal Lobe', 'Temporal Lobe', 'Parietal Lobe', 'Occipital Lobe', 'Thalamus', 'Ventricles', 'Suprasellar/Hypothalamic/Pituitary', 'Cerebellum/Posterior Fossa', 'Brain Stem-Medulla', 'Brain Stem-Midbrain/Tectum', 'Brain Stem-Pons', 'Spinal Cord-Cervical', 'Spinal Cord-Thoracic', 'Spinal Cord-Lumbar/Thecal Sac', 'Optic Pathway', 'Cranial Nerves NOS', 'Other locations NOS', 'Spine NOS', 'Pineal Gland', 'Basal Ganglia', 'Hippocampus', 'Meninges/Dura', 'Skull', 'Unavailable'. CRITICAL: Extract WHERE tumor is located (anatomical site), NOT surgical procedure location. DO NOT return 'Craniotomy' or 'Skull'. Look for: 'cerebellar tumor', 'posterior fossa mass', 'cerebellar hemisphere'. Return EXACTLY one of the 24 valid values.",,,,text,one_per_patient,"{""Frontal Lobe"": ""Frontal Lobe"", ""Temporal Lobe"": ""Temporal Lobe"", ""Parietal Lobe"": ""Parietal Lobe"", ""Occipital Lobe"": ""Occipital Lobe"", ""Thalamus"": ""Thalamus"", ""Ventricles"": ""Ventricles"", ""Suprasellar/Hypothalamic/Pituitary"": ""Suprasellar/Hypothalamic/Pituitary"", ""Cerebellum/Posterior Fossa"": ""Cerebellum/Posterior Fossa"", ""Brain Stem-Medulla"": ""Brain Stem-Medulla"", ""Brain Stem-Midbrain/Tectum"": ""Brain Stem-Midbrain/Tectum"", ""Brain Stem-Pons"": ""Brain Stem-Pons"", ""Spinal Cord-Cervical"": ""Spinal Cord-Cervical"", ""Spinal Cord-Thoracic"": ""Spinal Cord-Thoracic"", ""Spinal Cord-Lumbar/Thecal Sac"": ""Spinal Cord-Lumbar/Thecal Sac"", ""Optic Pathway"": ""Optic Pathway"", ""Cranial Nerves NOS"": ""Cranial Nerves NOS"", ""Other locations NOS"": ""Other locations NOS"", ""Spine NOS"": ""Spine NOS"", ""Pineal Gland"": ""Pineal Gland"", ""Basal Ganglia"": ""Basal Ganglia"", ""Hippocampus"": ""Hippocampus"", ""Meninges/Dura"": ""Meninges/Dura"", ""Skull"": ""Skull"", ""Unavailable"": ""Unavailable""}",,,Unavailable
idh_mutation,"PRIORITY 1: Check molecular testing reports and pathology documents for IDH mutation status. Data Dictionary: idh_mutation (radio: Mutant, Wildtype, Unknown, Not tested). Gold Standard for C1277724: 'IDH wild-type' (pilocytic astrocytoma with BRAF fusion is IDH wildtype). CRITICAL: Return EXACTLY one of: 'IDH mutant', 'IDH wild-type', 'Unknown', 'Not tested'. Look for keywords: 'IDH mutation', 'IDH1', 'IDH2', 'wildtype', 'wild-type'. INFERENCE RULE: If BRAF fusion detected and no IDH mention, return 'IDH wild-type' (BRAF and IDH mutations are mutually exclusive). If no molecular testing mentioned, return 'Not tested'.",,,,text,one_per_patient,"{""IDH mutant"": ""IDH mutant"", ""IDH wild-type"": ""IDH wild-type"", ""Unknown"": ""Unknown"", ""Not tested"": ""Not tested""}",,,Not tested
mgmt_methylation,"PRIORITY 1: Check molecular testing reports for MGMT methylation status. Data Dictionary: mgmt_methylation (radio: Methylated, Unmethylated, Unknown, Not tested). Gold Standard for C1277724: 'Not tested' (MGMT not typically tested for low-grade pilocytic astrocytoma). CRITICAL: Return EXACTLY one of: 'Methylated', 'Unmethylated', 'Unknown', 'Not tested'. Look for keywords: 'MGMT', 'methylation', 'promoter methylation'. CLINICAL NOTE: MGMT testing primarily for glioblastoma (high-grade), rarely ordered for Grade I tumors. If no mention in molecular reports, return 'Not tested'.",,,,text,one_per_patient,"{""Methylated"": ""Methylated"", ""Unmethylated"": ""Unmethylated"", ""Unknown"": ""Unknown"", ""Not tested"": ""Not tested""}",,,Not tested
braf_status,"PRIORITY 1: Check molecular testing reports for BRAF genetic alterations. Data Dictionary: BRAF status (custom field). Gold Standard for C1277724: 'BRAF fusion' (specifically KIAA1549-BRAF fusion). Valid values: 'BRAF V600E mutation', 'BRAF fusion', 'BRAF wild-type', 'Unknown', 'Not tested'. CRITICAL: Extract from NGS reports, look for keywords: 'BRAF fusion', 'KIAA1549-BRAF', 'V600E'. Return EXACTLY one value. For C1277724 gold standard, report shows 'KIAA1549 (NM_020910.2) - BRAF (NM_004333.4) fusion' which should return 'BRAF fusion'. If multiple BRAF findings, prioritize fusion over V600E over wildtype.",,,,text,one_per_patient,"{""BRAF V600E mutation"": ""BRAF V600E mutation"", ""BRAF fusion"": ""BRAF fusion"", ""BRAF wild-type"": ""BRAF wild-type"", ""Unknown"": ""Unknown"", ""Not tested"": ""Not tested""}",,,Not tested
surgery_date,"PRIORITY 1: Check NOTE_ID='STRUCTURED_surgeries' document FIRST. Locate the surgery history table and extract ALL dates from the 'Date' column (NOT just Row 1). Return one date per surgery in format YYYY-MM-DD. Data Dictionary: surgery_date (date field). Gold Standard for C1277724: Two surgeries - 2018-05-28 and 2021-03-10. Expected count: 2 surgery dates. If STRUCTURED_surgeries not found: Search FHIR Bundle Procedure resources for performed_date_time or performed_period_start, filter to neurosurgical CPT codes (61000-62258), return ALL dates chronologically.",,,,text,many_per_note,,,,unknown
surgery_type,"PRIORITY 1: Check NOTE_ID='STRUCTURED_surgeries' document FIRST. Locate the surgery history table and extract from ALL rows (NOT just Row 1) from 'Surgery Type' column. Return EXACTLY one of these Data Dictionary values per surgery: 'Tumor Resection' (if CPT 61510-61576), 'Biopsy' (if CPT 61140/61150/61512), 'Shunt' (if CPT 62200-62258), 'Other' (any other). CRITICAL: Match exactly - case sensitive Title Case. Gold Standard for C1277724: Both surgeries are 'Tumor Resection'. Expected count: 2 surgery types. Do NOT use 'RESECTION' or 'resection' or 'craniotomy'. If STRUCTURED_surgeries not found: Check Procedure.code for CPT and map each surgery.",,,,text,many_per_note,"{""Tumor Resection"": ""Tumor Resection"", ""Biopsy"": ""Biopsy"", ""Shunt"": ""Shunt"", ""Other"": ""Other""}",,,Other
surgery_extent,"PRIORITY 1: Check NOTE_ID='STRUCTURED_surgeries' document FIRST. Locate the surgery history table and extract from ALL rows (NOT just Row 1) from 'Extent of Resection' column. Return EXACTLY one of: 'Gross Total Resection', 'Near Total Resection', 'Subtotal Resection', 'Partial Resection', 'Biopsy Only' per surgery. Data Dictionary: extent_of_resection (dropdown). CRITICAL: Match exactly with Title Case - 'Partial Resection' NOT 'Partial resection'. Gold Standard for C1277724: Both surgeries are 'Partial Resection'. Expected count: 2 surgery extents. If STRUCTURED_surgeries not found: Search operative notes for keywords and return closest dropdown match for each surgery.",,,,text,many_per_note,"{""Gross Total Resection"": ""Gross Total Resection"", ""Near Total Resection"": ""Near Total Resection"", ""Subtotal Resection"": ""Subtotal Resection"", ""Partial Resection"": ""Partial Resection"", ""Biopsy Only"": ""Biopsy Only"", ""Unknown"": ""Unknown""}",,,Unknown
surgery_location,"PRIORITY 1: Check NOTE_ID='STRUCTURED_surgeries' document FIRST. Locate the surgery history table and extract from ALL rows (NOT just Row 1) from 'Anatomical Location' column. CRITICAL: Extract TUMOR anatomical location (NOT surgical approach/procedure location). Return EXACTLY one of these Data Dictionary values per surgery: 'Frontal Lobe', 'Temporal Lobe', 'Parietal Lobe', 'Occipital Lobe', 'Thalamus', 'Ventricles', 'Suprasellar/Hypothalamic/Pituitary', 'Cerebellum/Posterior Fossa', 'Brain Stem-Medulla', 'Brain Stem-Midbrain/Tectum', 'Brain Stem-Pons', 'Spinal Cord-Cervical', 'Spinal Cord-Thoracic', 'Spinal Cord-Lumbar/Thecal Sac', 'Optic Pathway', 'Cranial Nerves NOS', 'Other locations NOS', 'Spine NOS', 'Pineal Gland', 'Basal Ganglia', 'Hippocampus', 'Meninges/Dura', 'Skull', 'Unavailable'. Gold Standard for C1277724: Both surgeries are 'Cerebellum/Posterior Fossa'. Expected count: 2 surgery locations. DO NOT return procedure locations like 'Craniotomy' or surgical approaches. Look for tumor location in pathology, radiology, or operative notes describing WHERE the tumor is located (not where the incision is made). If STRUCTURED_surgeries not found: Search imaging reports and operative notes for tumor anatomical location keywords.",,,,text,many_per_note,"{""Frontal Lobe"": ""Frontal Lobe"", ""Temporal Lobe"": ""Temporal Lobe"", ""Parietal Lobe"": ""Parietal Lobe"", ""Occipital Lobe"": ""Occipital Lobe"", ""Thalamus"": ""Thalamus"", ""Ventricles"": ""Ventricles"", ""Suprasellar/Hypothalamic/Pituitary"": ""Suprasellar/Hypothalamic/Pituitary"", ""Cerebellum/Posterior Fossa"": ""Cerebellum/Posterior Fossa"", ""Brain Stem-Medulla"": ""Brain Stem-Medulla"", ""Brain Stem-Midbrain/Tectum"": ""Brain Stem-Midbrain/Tectum"", ""Brain Stem-Pons"": ""Brain Stem-Pons"", ""Spinal Cord-Cervical"": ""Spinal Cord-Cervical"", ""Spinal Cord-Thoracic"": ""Spinal Cord-Thoracic"", ""Spinal Cord-Lumbar/Thecal Sac"": ""Spinal Cord-Lumbar/Thecal Sac"", ""Optic Pathway"": ""Optic Pathway"", ""Cranial Nerves NOS"": ""Cranial Nerves NOS"", ""Other locations NOS"": ""Other locations NOS"", ""Spine NOS"": ""Spine NOS"", ""Pineal Gland"": ""Pineal Gland"", ""Basal Ganglia"": ""Basal Ganglia"", ""Hippocampus"": ""Hippocampus"", ""Meninges/Dura"": ""Meninges/Dura"", ""Skull"": ""Skull"", ""Unavailable"": ""Unavailable""}",,,Unavailable
chemotherapy_line,"PRIORITY 1: Search clinical notes and treatment plans for treatment line classification. Keywords: 'first line', '1st line', 'initial therapy', 'second line', '2nd line', 'after progression', 'third line', '3rd line', 'salvage'. Extract treatment line for EACH chemotherapy agent. Data Dictionary: treatment_line (dropdown). Gold Standard for C1277724: vinblastine (1st line 2018), bevacizumab (2nd line 2019), selumetinib (3rd line 2021). CRITICAL: Return EXACTLY one of: '1st line', '2nd line', '3rd line', '4th line', 'Unknown'. Match to chemotherapy_start_date temporally - earliest agent is usually 1st line. If no line specified, infer from temporal sequence.",,,,text,many_per_note,"{""1st line"": ""1st line"", ""2nd line"": ""2nd line"", ""3rd line"": ""3rd line"", ""4th line"": ""4th line"", ""Unknown"": ""Unknown""}",,,Unknown
chemotherapy_route,"PRIORITY 1: Search medication administration notes and treatment plans for route of administration. Keywords: 'intravenous', 'IV', 'oral', 'PO', 'intrathecal', 'IT'. Extract route for EACH chemotherapy agent. Data Dictionary: route (dropdown). Gold Standard for C1277724: vinblastine (IV), bevacizumab (IV), selumetinib (oral). CRITICAL: Return EXACTLY one of: 'Intravenous', 'Oral', 'Intrathecal', 'Intramuscular', 'Subcutaneous', 'Other', 'Unknown'. Match to chemotherapy agent - one route per agent.",,,,text,many_per_note,"{""Intravenous"": ""Intravenous"", ""Oral"": ""Oral"", ""Intrathecal"": ""Intrathecal"", ""Intramuscular"": ""Intramuscular"", ""Subcutaneous"": ""Subcutaneous"", ""Other"": ""Other"", ""Unknown"": ""Unknown""}",,,Unknown
chemotherapy_dose,"PRIORITY 1: Search medication orders and treatment plans for dose with units. Pattern: NUMBER + UNIT (e.g., '150 mg/m2', '10 mg/kg', '50 mg daily'). Extract dose for EACH chemotherapy agent. Data Dictionary: dose (free text). Gold Standard for C1277724: vinblastine (6 mg/m2), bevacizumab (10 mg/kg), selumetinib (25 mg/m2). CRITICAL: Include units in response. If dose changes over time, use initial dose. If not found, return 'Unknown'.",,,,text,many_per_note,,,,Unknown
radiation_therapy_yn,"PRIORITY 1: Search treatment notes, radiology reports, radiation oncology notes for ANY evidence of radiation therapy. Keywords: 'radiation', 'radiotherapy', 'XRT', 'IMRT', 'stereotactic radiosurgery', 'proton therapy', 'gamma knife'. Data Dictionary: radiation_therapy (radio button). Gold Standard for C1277724: No (no radiation documented). CRITICAL: Return EXACTLY one of: 'Yes', 'No', 'Unknown'. If ANY mention of radiation treatment found, return 'Yes'. If explicitly states 'no radiation' or no mention found, return 'No'.",,,,text,one_per_patient,"{""Yes"": ""Yes"", ""No"": ""No"", ""Unknown"": ""Unknown""}",,,Unknown
radiation_start_date,"PRIORITY 1: If radiation_therapy_yn='Yes', search radiation oncology consultation or treatment notes for start date. Keywords: 'started radiation', 'first fraction', 'RT start date', 'radiation therapy initiated'. Data Dictionary: radiation_start_date (date field). CRITICAL: Return in YYYY-MM-DD format. If radiation_therapy_yn='No', return 'N/A'. If radiation given but date not found, return 'Unknown'.",,,,text,one_per_patient,,,,N/A
radiation_dose,"PRIORITY 1: If radiation_therapy_yn='Yes', search radiation treatment plans for total dose. Pattern: NUMBER + 'Gy' (e.g., '54 Gy', '30 Gy in 10 fractions'). Data Dictionary: radiation_dose (free text with units). CRITICAL: Include 'Gy' unit. If radiation_therapy_yn='No', return 'N/A'. If radiation given but dose not documented, return 'Unknown'.",,,,text,one_per_patient,,,,N/A
radiation_fractions,"PRIORITY 1: If radiation_therapy_yn='Yes', search radiation treatment plans for number of fractions. Pattern: NUMBER + 'fractions' (e.g., '30 fractions', '5 fractions'). Data Dictionary: radiation_fractions (integer). CRITICAL: Return integer only (e.g., '30' not '30 fractions'). If radiation_therapy_yn='No', return 'N/A'. If radiation given but fractions not documented, return 'Unknown'.",,,,text,one_per_patient,,,,N/A
clinical_status,"PRIORITY 1: Search follow-up clinical notes and imaging reports for disease status assessment. Keywords: 'stable disease', 'no change', 'progressive disease', 'interval growth', 'recurrence', 'recurrent tumor', 'no evidence of disease', 'NED'. Extract status at EACH clinical encounter or imaging timepoint. Data Dictionary: clinical_status (dropdown). CRITICAL: Return EXACTLY one of: 'Stable', 'Progressive', 'Recurrent', 'No Evidence of Disease', 'Unknown'. Use many_per_note scope to track longitudinal status changes. Match status to encounter_date.",,,,text,many_per_note,"{""Stable"": ""Stable"", ""Progressive"": ""Progressive"", ""Recurrent"": ""Recurrent"", ""No Evidence of Disease"": ""No Evidence of Disease"", ""Unknown"": ""Unknown""}",,,Unknown
progression_date,"PRIORITY 1: Search imaging reports and clinical notes for FIRST mention of disease progression. Keywords: 'progression', 'progressive disease', 'interval growth', 'new enhancement', 'increased size'. Data Dictionary: progression_date (date field). Gold Standard for C1277724: Likely 2019-05-15 (start of 2nd line therapy suggests progression). CRITICAL: Return YYYY-MM-DD format. This is aggregation of clinical_status - find earliest date where status='Progressive'. If no progression documented, return 'None'.",,,,text,one_per_patient,,,,None
recurrence_date,"PRIORITY 1: Search imaging reports and clinical notes for FIRST mention of disease recurrence after initial treatment/resection. Keywords: 'recurrence', 'recurrent tumor', 'new lesion', 'tumor regrowth after surgery'. Data Dictionary: recurrence_date (date field). Gold Standard for C1277724: Possibly 2021-03-10 (date of 2nd surgery for recurrent disease). CRITICAL: Return YYYY-MM-DD format. Find earliest date where clinical status describes recurrence. If no recurrence documented, return 'None'.",,,,text,one_per_patient,,,,None
imaging_type,"PRIORITY 1: Search imaging reports for modality type. Keywords: 'MRI', 'magnetic resonance imaging', 'CT', 'computed tomography', 'PET', 'fMRI', 'functional MRI'. Extract imaging type for EACH imaging study. Data Dictionary: imaging_modality (dropdown). CRITICAL: Return EXACTLY one of: 'MRI Brain', 'CT Brain', 'PET Brain', 'fMRI', 'MRI Spine', 'CT Spine', 'Other'. Use many_per_note scope - one entry per imaging study. Match to imaging_date.",,,,text,many_per_note,"{""MRI Brain"": ""MRI Brain"", ""CT Brain"": ""CT Brain"", ""PET Brain"": ""PET Brain"", ""fMRI"": ""fMRI"", ""MRI Spine"": ""MRI Spine"", ""CT Spine"": ""CT Spine"", ""Other"": ""Other""}",,,Unknown
imaging_date,"PRIORITY 1: Extract exam date from EACH imaging report header or 'Date of Exam' field. Data Dictionary: imaging_date (date field). CRITICAL: Return in YYYY-MM-DD format. Use many_per_note scope - one date per imaging study. If exam date not in header, search for 'performed on', 'exam date', 'study date'. Essential for temporal tracking of tumor changes.",,,,text,many_per_note,,,,Unknown
tumor_size,"PRIORITY 1: Search imaging reports 'Findings' or 'Impression' section for tumor dimensions. Pattern: NUMBER x NUMBER x NUMBER cm OR 'largest diameter' + NUMBER cm. Examples: '3.5 x 2.1 x 2.8 cm', 'measures 4.2 cm', 'largest dimension 5.5 cm'. Data Dictionary: tumor_size (free text with units). CRITICAL: Include 'cm' units. Extract size for EACH imaging study (many_per_note). If multiple tumors, extract largest/primary tumor. If size not quantified, return 'Not measurable'.",,,,text,many_per_note,,,,Unknown
contrast_enhancement,"PRIORITY 1: Search imaging reports for contrast enhancement description. Keywords: 'enhancing', 'enhancement', 'avid enhancement', 'non-enhancing', 'no enhancement', 'does not enhance'. Data Dictionary: contrast_enhancement (radio button). CRITICAL: Return EXACTLY one of: 'Yes', 'No', 'Unknown'. Extract for EACH imaging study (many_per_note). Match to imaging_date. If 'enhancing' or 'enhancement' mentioned, return 'Yes'. If 'non-enhancing' or 'no enhancement', return 'No'.",,,,text,many_per_note,"{""Yes"": ""Yes"", ""No"": ""No"", ""Unknown"": ""Unknown""}",,,Unknown
imaging_findings,"PRIORITY 1: Extract 'Impression' or 'Conclusion' section from EACH imaging report. Data Dictionary: imaging_findings (free text, max 500 characters). CRITICAL: Summarize key findings - tumor size, enhancement pattern, mass effect, changes from prior. Use many_per_note scope - one summary per imaging study. If impression section exceeds 500 characters, extract most clinically relevant sentences (tumor description, comparison to prior, key changes).",,,,text,many_per_note,,,,Unknown
